(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13],{810:function(e,t,r){Promise.resolve().then(r.bind(r,6679))},6679:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(7437),s=r(9376),l=r(2265),n=r(9116),c=r(2660),i=r(9205);let o=(0,i.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var d=r(6275),u=r(8997);let m=(0,i.Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var x=r(3405),h=r(8158);function g(e){var t,r,s,n,i,g,f,v;let{product:p,onBack:y}=e,{addToCart:j}=(0,x.j)(),{addToWishlist:b,removeFromWishlist:N,isInWishlist:w}=(0,h.E)();(0,l.useEffect)(()=>{console.log("Product Item:",p)},[p]),(0,l.useEffect)(()=>{var e;if(!(null===(e=p.variations)||void 0===e?void 0:e.length))return;let t=p.variations.find(e=>e.stock>0);t&&E(t)},[p.variations]);let[k,E]=(0,l.useState)(null!==(s=null===(t=p.variations)||void 0===t?void 0:t[0])&&void 0!==s?s:null),[S,C]=(0,l.useState)(0),P=w(p.id),D=null!==(n=null==k?void 0:k.price)&&void 0!==n?n:p.price,Z=null!==(i=null==k?void 0:k.stock)&&void 0!==i?i:p.stock;console.log("stock",Z);let _=(0,l.useMemo)(()=>{var e,t;return(null==k?void 0:null===(e=k.images)||void 0===e?void 0:e.length)?k.images.map(e=>e.image_url):(null===(t=p.images)||void 0===t?void 0:t.map(e=>e.image_url))||[]},[k,p.images]);return(0,l.useEffect)(()=>{!_.length&&p.image&&C(0)},[_,p.image]),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,a.jsxs)("button",{onClick:y,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Back"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-100 rounded-xl overflow-hidden",children:(0,a.jsx)("img",{src:_[S]||p.image||"/placeholder.webp",alt:p.name,className:"w-full h-full object-cover"})}),(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto",children:_.map((e,t)=>(0,a.jsx)("button",{onClick:()=>C(t),className:"w-16 h-16 rounded-lg border overflow-hidden ".concat(S===t?"border-[#8B1D3D]":"border-gray-200"),children:(0,a.jsx)("img",{src:e,alt:"",className:"w-full h-full object-cover"})},t))})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:p.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(o,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,a.jsx)("span",{children:null!==(g=p.rating)&&void 0!==g?g:4.3}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["(",null!==(f=p.reviews)&&void 0!==f?f:120," reviews)"]})]})]}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-green-700",children:["₹",D]}),(null===(r=p.variations)||void 0===r?void 0:r.length)>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Select Variant"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:p.variations.map(e=>(0,a.jsx)("button",{disabled:0===e.stock,onClick:()=>{E(e),C(0)},className:"px-4 py-2 rounded-lg border text-sm ".concat((null==k?void 0:k.id)===e.id?"border-[#8B1D3D] bg-[#F7E9ED]":"border-gray-300"," ").concat(0===e.stock?"opacity-40 cursor-not-allowed":""),children:e.name},e.id))})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:()=>{if(k){if(console.log("add to cart",Z),0==Z){alert("❌ This product is out of stock");return}j({id:p.id,variationId:k.id,name:"".concat(p.name," (").concat(k.name,")"),price:k.price,image:_[0],stock:Z})}},disabled:0==Z,className:"flex-1 py-3 rounded-lg flex items-center justify-center gap-2\n              ".concat(0===Z?"bg-gray-400 cursor-not-allowed":"bg-[#8B1D3D] hover:bg-[#7a1835] text-white","\n            "),children:[(0,a.jsx)(d.Z,{className:"w-5 h-5"}),0===Z?"Out of Stock":"Add to Cart"]}),(0,a.jsx)("button",{onClick:()=>{P?N(p.id):b(p)},className:"p-3 rounded-lg border ".concat(P?"border-red-300 text-red-500":"border-gray-300 text-gray-600"),children:(0,a.jsx)(u.Z,{className:"w-5 h-5 ".concat(P?"fill-current":"")})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-1",children:"Description"}),(0,a.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:null!==(v=p.description)&&void 0!==v?v:"High-quality herbal product crafted using traditional formulations and modern quality standards."})]}),(0,a.jsxs)("button",{className:"flex items-center gap-2 text-gray-600 hover:text-blue-500",children:[(0,a.jsx)(m,{className:"w-4 h-4"}),"Share"]})]})]})]})}function f(){let e=(0,s.useSearchParams)().get("slug"),[t,r]=(0,l.useState)(null),[c,i]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{e&&(async()=>{try{let t=await n.Z.get("/dashboard/product/products1/".concat(e));r(t.data.data)}catch(e){r(null)}finally{i(!1)}})()},[e]),c)?(0,a.jsx)("div",{className:"p-10 text-center",children:"Loading product..."}):t?(0,a.jsx)(g,{product:t}):(0,a.jsx)("div",{className:"p-10 text-center text-gray-500",children:"Product not found"})}},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:r,strokeWidth:i?24*Number(c)/Number(s):c,className:l("lucide",o),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:i,...o}=r;return(0,a.createElement)(c,{ref:n,iconNode:t,className:l("lucide-".concat(s(e)),i),...o})});return r.displayName="".concat(e),r}},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[464,180,971,117,744],function(){return e(e.s=810)}),_N_E=e.O()}]);