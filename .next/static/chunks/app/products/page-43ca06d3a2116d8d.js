(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{3468:function(e,t,a){Promise.resolve().then(a.bind(a,7702))},7702:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var r=a(7437),s=a(9376),n=a(2265),l=a(9116);function i(e){let{selectedCategory:t,onFiltersChange:a}=e,i=(0,s.useRouter)(),[o,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,h]=(0,n.useState)([]),[p,g]=(0,n.useState)({min:0,max:3e3}),[x,f]=(0,n.useState)("popularity");(0,n.useEffect)(()=>{(async()=>{var e,t,a,r;let[s,n]=await Promise.all([l.Z.get("/dashboard/pos/categories"),l.Z.get("/dashboard/pos/brands")]);c((null!==(a=null===(e=s.data)||void 0===e?void 0:e.data)&&void 0!==a?a:[]).filter(e=>"number"==typeof e.id)),u(null!==(r=null===(t=n.data)||void 0===t?void 0:t.data)&&void 0!==r?r:[])})()},[]);let v=e=>{h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,r.jsxs)("aside",{className:"w-72 border rounded-lg p-4 bg-white space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-3",children:"Categories"}),(0,r.jsx)("button",{onClick:()=>i.push("/products"),className:"block w-full text-left py-1 ".concat(t?"":"font-bold text-red-900"),children:"All"}),o.map(e=>(0,r.jsx)("button",{onClick:()=>i.push("/products?category=".concat(e.slug)),className:"block w-full text-left py-1 ".concat(t===e.slug?"font-bold text-red-900":"text-gray-700"),children:e.name},e.id))]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-3",children:"Price Range"}),(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)("input",{type:"number",value:p.min,min:0,onChange:e=>g({...p,min:Number(e.target.value)}),className:"w-20 border rounded px-2 py-1 text-sm",placeholder:"Min"}),(0,r.jsx)("span",{className:"text-gray-500",children:"—"}),(0,r.jsx)("input",{type:"number",value:p.max,min:p.min,onChange:e=>g({...p,max:Number(e.target.value)}),className:"w-20 border rounded px-2 py-1 text-sm",placeholder:"Max"})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["₹",p.min," – ₹",p.max]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-3",children:"Brands"}),(0,r.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:d.map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:m.includes(e.id),onChange:()=>v(e.id),className:"accent-red-900"}),e.name]},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-3",children:"Sort By"}),(0,r.jsxs)("select",{value:x,onChange:e=>f(e.target.value),className:"w-full border rounded px-2 py-1 text-sm",children:[(0,r.jsx)("option",{value:"popularity",children:"Popularity"}),(0,r.jsx)("option",{value:"price_low_high",children:"Price: Low → High"}),(0,r.jsx)("option",{value:"price_high_low",children:"Price: High → Low"})]})]}),(0,r.jsx)("button",{onClick:()=>{a&&a({brands:m,price_min:p.min,price_max:p.max,sortBy:x})},className:"w-full bg-red-900 text-white py-2 rounded-lg font-medium hover:bg-red-800 transition",children:"Apply Filters"})]})}var o=a(836);function c(e){let{categorySlug:t,filters:a}=e,[s,i]=(0,n.useState)([]),[c,d]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async()=>{d(!0);try{var e;let r=await l.Z.get("dashboard/pos/products-all/",{params:{...t?{category:t}:{},...a}});i((null===(e=r.data)||void 0===e?void 0:e.data)||[])}catch(e){i([])}finally{d(!1)}})()},[t,JSON.stringify(a)]),c)?(0,r.jsx)("div",{className:"p-10 text-center",children:"Loading products..."}):s.length?(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(e=>(0,r.jsx)(o.Z,{product:e,detailsUrl:"/product/details?slug=".concat(e.slug)},e.id))}):(0,r.jsx)("div",{className:"p-10 text-center text-gray-500",children:"No products found"})}function d(){let e=(0,s.useSearchParams)().get("category"),[t,a]=(0,n.useState)({});return(0,r.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsx)(i,{selectedCategory:e,onFiltersChange:a})}),(0,r.jsx)("div",{className:"lg:col-span-3",children:(0,r.jsx)(c,{categorySlug:e,filters:t})})]})})}},836:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var r=a(7437),s=a(2660),n=a(8997),l=a(6275),i=a(9376),o=a(3405),c=a(8158),d=a(446);function u(e){let{product:t,showBack:a=!1}=e,u=(0,i.useRouter)(),{addToCart:m}=(0,o.j)(),{toggleWishlist:h,isInWishlist:p}=(0,c.E)(),{isAuthenticated:g,openLogin:x}=(0,d.a)(),f=p(t.id);return(0,r.jsxs)("div",{className:"relative bg-white rounded-xl border hover:shadow-lg transition overflow-hidden group",children:[a&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),u.back()},className:"absolute top-3 left-3 z-10 bg-white/90 p-2 rounded-full shadow hover:bg-gray-100",children:(0,r.jsx)(s.Z,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:e=>{if(e.stopPropagation(),!g){x();return}h(t)},className:"absolute top-3 right-3 z-10 p-2 rounded-full shadow transition\n          ".concat(g?"bg-white/90 hover:bg-gray-100":"bg-gray-200 hover:bg-gray-300"),title:g?"":"Login to add wishlist",children:(0,r.jsx)(n.Z,{className:"w-4 h-4 transition ".concat(f?"fill-red-500 text-red-500":g?"text-gray-600":"text-gray-400")})}),(0,r.jsx)("div",{onClick:()=>{u.push("/product/details?slug=".concat(t.slug))},className:"h-52 overflow-hidden cursor-pointer",children:(0,r.jsx)("img",{src:t.image||"/placeholder.webp",alt:t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),(0,r.jsxs)("div",{className:"p-4 space-y-2",children:[(0,r.jsx)("h3",{className:"text-sm font-medium line-clamp-2 text-gray-800",children:t.name}),(0,r.jsxs)("p",{className:"text-green-700 font-bold text-lg",children:["From ₹",t.price]}),(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),m({id:t.id,name:t.name,price:t.price,image:t.image})},className:"mt-3 w-full bg-red-900 text-white text-sm py-2 rounded-lg hover:bg-red-800 transition flex items-center justify-center gap-2",children:[(0,r.jsx)(l.Z,{className:"w-4 h-4"}),"Add to Cart"]})]})]})}},9205:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var r=a(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&a.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:a,strokeWidth:o?24*Number(i)/Number(s):i,className:n("lucide",c),...m},[...u.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let a=(0,r.forwardRef)((a,l)=>{let{className:o,...c}=a;return(0,r.createElement)(i,{ref:l,iconNode:t,className:n("lucide-".concat(s(e)),o),...c})});return a.displayName="".concat(e),a}},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[464,180,971,117,744],function(){return e(e.s=3468)}),_N_E=e.O()}]);