(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{3186:function(e,t,n){Promise.resolve().then(n.bind(n,5854))},5854:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var s=n(7437),a=n(2265),r=n(9376),o=n(446);let l=[{label:"My Account",path:"/account"},{label:"Edit Profile",path:"/account/profile"},{label:"My Orders",path:"/account/orders"},{label:"My Wishlist",path:"/account/wishlist"},{label:"Become Affiliate",path:"/account/affiliate"},{label:"Change Password",path:"/account/change-password"}];function u(){let e=(0,r.usePathname)(),t=(0,r.useRouter)();return(0,s.jsxs)("aside",{className:"bg-white rounded-2xl shadow-sm p-5",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-5",children:"Account"}),(0,s.jsxs)("div",{className:"space-y-2",children:[l.map(n=>{let a=e===n.path;return(0,s.jsxs)("button",{onClick:()=>t.push(n.path),className:"w-full h-11 px-4 rounded-lg text-sm flex items-center justify-between transition-all\n                ".concat(a?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-700 hover:bg-gray-100","\n              "),children:[(0,s.jsx)("span",{children:n.label}),a&&(0,s.jsx)("span",{className:"w-2 h-2 rounded-full bg-indigo-600"})]},n.path)}),(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),t.push("/")},className:"w-full h-11 px-4 rounded-lg text-sm flex items-center justify-between   text-red-600 hover:bg-red-50 transition-all mt-4",children:"Logout"})]})]})}function c(e){let{children:t}=e;return(0,s.jsx)("div",{className:"min-h-screen bg-gray-100 p-6",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto flex gap-6",children:[(0,s.jsx)("div",{className:"w-64 flex-shrink-0",children:(0,s.jsx)(u,{})}),(0,s.jsx)("div",{className:"flex-1 bg-white rounded-xl shadow p-6",children:t})]})})}function i(e){let{children:t}=e,{isAuthenticated:n,loading:l}=(0,o.a)(),u=(0,r.useRouter)();return((0,a.useEffect)(()=>{l||n||u.replace("/")},[l,n,u]),l)?(0,s.jsx)("div",{className:"p-10 text-center",children:"Checking your accountâ€¦"}):n?(0,s.jsx)(c,{children:t}):null}},446:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return o},a:function(){return l}});var s=n(7437),a=n(2265);let r=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[n,o]=(0,a.useState)(null),[l,u]=(0,a.useState)(null),[c,i]=(0,a.useState)(!0),[h,d]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=localStorage.getItem("jb-fashions-user"),t=localStorage.getItem("jb-fashions-token");e&&t&&(o(JSON.parse(e)),u(t)),i(!1)},[]),(0,a.useEffect)(()=>{n&&l?(localStorage.setItem("jb-fashions-user",JSON.stringify(n)),localStorage.setItem("jb-fashions-token",l)):(localStorage.removeItem("jb-fashions-user"),localStorage.removeItem("jb-fashions-token"))},[n,l]),(0,s.jsx)(r.Provider,{value:{user:n,token:l,isAuthenticated:!!l,loading:c,login:(e,t)=>{u(e),o(t),d(!1)},logout:()=>{o(null),u(null),localStorage.removeItem("cartSynced")},updateUser:e=>{o(t=>t?{...t,...e}:t)},loginOpen:h,openLogin:()=>d(!0),closeLogin:()=>d(!1)},children:!c&&t})}function l(){let e=(0,a.useContext)(r);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},9376:function(e,t,n){"use strict";var s=n(5475);n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3186)}),_N_E=e.O()}]);