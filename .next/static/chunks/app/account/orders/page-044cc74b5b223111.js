(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[847],{8486:function(e,t,s){Promise.resolve().then(s.bind(s,3183))},3183:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var r=s(7437),a=s(2265),n=s(9376),o=s(9116);function i(){let e=(0,n.useRouter)(),[t,s]=(0,a.useState)([]),[i,l]=(0,a.useState)("All");(0,a.useEffect)(()=>{c()},[]);let c=async()=>{try{let e=await o.Z.get("/cart/get-my-orders");s(e.data.data||[])}catch(e){console.error(e)}},d="All"===i?t:t.filter(e=>e.order_status===i.toLowerCase());return(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"My Orders"}),(0,r.jsx)("div",{className:"flex gap-3 mb-6",children:["All","Processing","Delivered"].map(e=>(0,r.jsx)("button",{onClick:()=>l(e),className:"h-9 px-4 rounded-full text-sm ".concat(i===e?"bg-gray-900 text-white":"bg-white border"),children:e},e))}),(0,r.jsxs)("div",{className:"space-y-4",children:[d.map(t=>{var s,a,n,o,i;let l=null===(s=t.items)||void 0===s?void 0:s[0],c=(null==l?void 0:null===(o=l.variant)||void 0===o?void 0:null===(n=o.images)||void 0===n?void 0:null===(a=n[0])||void 0===a?void 0:a.image_url)||"/logo.webp";return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 flex gap-4 items-center",children:[(0,r.jsx)("img",{src:c,alt:"",className:"w-20 h-20 rounded object-cover"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("p",{className:"text-sm text-indigo-600",children:["Order #",t.id]}),(0,r.jsx)("p",{className:"font-medium text-sm",children:(null==l?void 0:null===(i=l.product)||void 0===i?void 0:i.name)||"Order"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:new Date(t.createdAt).toDateString()})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"font-semibold",children:["â‚¹",t.total_amount]}),(0,r.jsx)("button",{onClick:()=>e.push("/account/orders/details?id=".concat(t.id)),className:"text-sm text-indigo-600 hover:underline",children:"View"})]})]},t.id)}),0===d.length&&(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No orders found"})]})]})}},9116:function(e,t,s){"use strict";let r=s(3464).Z.create({baseURL:"https://herbal-api.easybizcart.com/api",headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4});r.interceptors.request.use(e=>{{let t=localStorage.getItem("jb-fashions-token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{var t,s;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&console.warn("401 error detected from:",null===(s=e.config)||void 0===s?void 0:s.url),Promise.reject(e)}),t.Z=r},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[464,971,117,744],function(){return e(e.s=8486)}),_N_E=e.O()}]);