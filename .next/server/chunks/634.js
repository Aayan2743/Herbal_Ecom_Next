exports.id=634,exports.ids=[634],exports.modules={3446:(e,t,s)=>{Promise.resolve().then(s.bind(s,5408)),Promise.resolve().then(s.bind(s,8700)),Promise.resolve().then(s.bind(s,1783))},7488:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},5303:()=>{},5408:(e,t,s)=>{"use strict";s.d(t,{default:()=>k});var a=s(326),r=s(7577),l=s.n(r),n=s(5047),i=s(8307),d=s(9635),c=s(941),o=s(7427),u=s(7671),x=s(6824),m=s(1783),h=s(8700),p=s(6414),g=s(4565),b=s(4019),j=s(1019),f=s(3855),y=s(6333);let v=({isOpen:e,onClose:t})=>{let{cart:s,getTotalPrice:l,clearCart:n}=(0,m.j)(),{user:i}=(0,h.a)(),[d,c]=(0,r.useState)(1),[o,u]=(0,r.useState)([]),[p,g]=(0,r.useState)(null),[j,f]=(0,r.useState)(""),[v,N]=(0,r.useState)(!1),[w,C]=(0,r.useState)(""),[S,k]=(0,r.useState)(!1),[P,D]=(0,r.useState)(0),[A,Z]=(0,r.useState)(l()),[I,E]=(0,r.useState)(""),[H,q]=(0,r.useState)(!1),[F,T]=(0,r.useState)({name:"",phone:"",address:"",city:"",state:"",country:"",pincode:""});(0,r.useEffect)(()=>{e&&i&&L()},[e,i]);let L=async()=>{try{N(!0);let e=(await x.Z.get("/cart/get-address")).data.data||[];u(e),e.length>0&&g(e[0].id)}catch(e){console.error("Address fetch failed",e)}finally{N(!1)}},O=()=>new Promise(e=>{let t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>e(!0),t.onerror=()=>e(!1),document.body.appendChild(t)}),R=async()=>{if(w)try{k(!0),E("");let e=await x.Z.post("/cart/apply-coupon",{code:w,amount:l()});e.data.success&&(D(e.data.discount),Z(e.data.finalAmount))}catch(e){D(0),Z(l()),E(e.response?.data?.message||"Invalid coupon")}finally{k(!1)}},$=async()=>{if(!await O()){alert("Razorpay SDK failed");return}let{order:e}=(await x.Z.post("/cart/create-order",{amount:A})).data,a={key:"rzp_test_RywTw9KUnaPKxd",amount:e.amount,currency:"INR",name:"Sridevi Herbal & Co",description:"Order Payment",order_id:e.id,handler:async function(e){try{if(!(await x.Z.post("/cart/verify-payment",e)).data.success){alert("Payment verification failed");return}let a=await x.Z.post("/cart/save-order",{address_id:p,items:s.map(e=>({product_id:e.id,variation_id:e.variationId,quantity:e.quantity,price:e.price})),coupon_code:w||null,discount:P,subtotal:l(),total_amount:A,payment_method:"razorpay",payment_id:e.razorpay_payment_id});console.log("ORDER CREATED:",a.data),alert("Payment successful \uD83C\uDF89"),n(),C(""),D(0),Z(l()),t()}catch(e){console.error("ORDER CREATION FAILED:",e),alert("Order creation failed")}},prefill:{name:i?.name,contact:i?.phone},theme:{color:"#7f1d1d"}};new window.Razorpay(a).open()};(0,r.useEffect)(()=>{e&&0===o.length&&!v&&q(!0)},[e,o,v]),(0,r.useEffect)(()=>{e&&(async()=>{try{N(!0);let e=(await x.Z.get("/cart/get-address")).data.data||[];u(e),e.length>0?(g(e[0].id),q(!1)):q(!0),c(1)}catch(e){console.error("Fetch address on checkout open failed",e)}finally{N(!1)}})()},[e]);let z=async e=>{if(T(t=>({...t,pincode:e})),6===e.length)try{let t=await fetch(`https://api.postalpincode.in/pincode/${e}`),s=await t.json();if(s[0]?.Status==="Success"){let e=s[0].PostOffice[0];T(t=>({...t,city:e.District,state:e.State,country:e.Country}))}}catch(e){console.error("Pincode error")}},B=async()=>{let{name:e,phone:t,address:s,pincode:a}=F;if(!e||!t||!s||!a){alert("Please fill all required fields");return}try{let e=(await x.Z.post("/cart/add-address",F)).data.data;u(t=>[e,...t]),g(e.id),q(!1)}catch(e){alert("Failed to save address")}};return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),(0,a.jsxs)("div",{className:"absolute right-0 top-0 h-full w-full max-w-2xl bg-white flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-5 bg-red-900 text-white",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Checkout"}),a.jsx("button",{onClick:t,children:a.jsx(b.Z,{})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[1===d&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>q(!0),className:"w-full border border-dashed border-red-900 text-red-900 py-3 rounded mb-4 font-medium",children:"+ Add New Address"}),v&&a.jsx("p",{children:"Loading addresses..."}),!v&&0===o.length&&(0,a.jsxs)("div",{className:"text-center text-gray-500 mt-10",children:[a.jsx("p",{children:"No address found"}),a.jsx("p",{className:"text-xs",children:"Please add a delivery address"})]}),o.map(e=>(0,a.jsxs)("div",{onClick:()=>g(e.id),className:`border p-4 rounded mb-3 cursor-pointer ${p===e.id?"border-red-900 bg-red-50":""}`,children:[a.jsx("p",{className:"font-semibold",children:e.name}),a.jsx("p",{className:"text-sm",children:e.phone}),(0,a.jsxs)("p",{className:"text-sm",children:[e.address,", ",e.city,", ",e.state," - ",e.pincode]})]},e.id))]}),2===d&&a.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{id:"cod",name:"Cash on Delivery",icon:"\uD83D\uDCB0"},{id:"upi",name:"UPI Payment",icon:"\uD83D\uDCF1"}].map(e=>(0,a.jsxs)("div",{onClick:()=>f(e.id),className:`border p-4 rounded cursor-pointer ${j===e.id?"border-red-900 bg-red-50":""}`,children:[a.jsx("div",{className:"text-xl",children:e.icon}),a.jsx("p",{className:"font-semibold",children:e.name})]},e.id))}),3===d&&(0,a.jsxs)(a.Fragment,{children:[s.map(e=>(0,a.jsxs)("div",{className:"flex gap-4 border p-3 rounded mb-3",children:[a.jsx("img",{src:e.image,className:"w-16 h-16 rounded object-cover"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-sm",children:["Qty: ",e.quantity]}),(0,a.jsxs)("p",{className:"font-semibold",children:["₹",e.price*e.quantity]})]})]},e.id)),(0,a.jsxs)("div",{className:"border-t pt-4 space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal"}),(0,a.jsxs)("span",{children:["₹",l()]})]}),P>0&&(0,a.jsxs)("div",{className:"flex justify-between text-sm text-green-600",children:[a.jsx("span",{children:"Coupon Discount"}),(0,a.jsxs)("span",{children:["- ₹",P]})]}),(0,a.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"Total"}),(0,a.jsxs)("span",{children:["₹",A]})]})]}),(0,a.jsxs)("div",{className:"border rounded-lg p-4 mt-4 space-y-2",children:[a.jsx("p",{className:"font-medium text-sm",children:"Apply Coupon"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{value:w,onChange:e=>C(e.target.value.toUpperCase()),placeholder:"Enter coupon code",className:"flex-1 border rounded px-3 py-2 text-sm",disabled:P>0}),P>0?a.jsx("button",{onClick:()=>{C(""),D(0),Z(l()),E("")},className:"px-4 py-2 text-sm bg-gray-200 rounded",children:"Remove"}):a.jsx("button",{onClick:R,disabled:S,className:"px-4 py-2 text-sm bg-red-900 text-white rounded",children:S?"Applying...":"Apply"})]}),I&&a.jsx("p",{className:"text-xs text-red-600",children:I})]})]})]}),(0,a.jsxs)("div",{className:"border-t p-5 flex justify-between items-center",children:[d>1?(0,a.jsxs)("button",{onClick:()=>c(d-1),className:"flex items-center gap-1 text-sm",children:[a.jsx(y.Z,{size:16})," Back"]}):a.jsx("div",{}),d<3?a.jsx("button",{disabled:1===d&&0===o.length,onClick:()=>{if(2===d&&!j){alert("Select payment method");return}c(d+1)},className:`px-6 py-2 rounded ${1===d&&0===o.length?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-red-900 text-white"}`,children:"Next"}):a.jsx("button",{onClick:$,className:"bg-green-600 text-white px-6 py-2 rounded",children:"Place Order"})]})]}),H&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:(0,a.jsxs)("div",{className:"bg-white w-full max-w-md rounded-xl p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Add Address"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[a.jsx("input",{placeholder:"Full Name",className:"w-full px-3 py-2 border rounded",onChange:e=>T({...F,name:e.target.value})}),a.jsx("input",{placeholder:"Mobile Number",maxLength:10,className:"w-full px-3 py-2 border rounded",onChange:e=>T({...F,phone:e.target.value.replace(/\D/g,"")})}),a.jsx("textarea",{placeholder:"House No, Street, Area",rows:2,className:"w-full px-3 py-2 border rounded",onChange:e=>T({...F,address:e.target.value})}),a.jsx("input",{placeholder:"Pincode",maxLength:6,className:"w-full px-3 py-2 border rounded",onChange:e=>z(e.target.value)}),a.jsx("input",{value:F.city,readOnly:!0,className:"w-full px-3 py-2 bg-gray-100 border rounded"}),a.jsx("input",{value:F.state,readOnly:!0,className:"w-full px-3 py-2 bg-gray-100 border rounded"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 border rounded",children:"Cancel"}),a.jsx("button",{onClick:B,className:"px-4 py-2 bg-red-900 text-white rounded",children:"Save"})]})]})})]}):null},N=({isOpen:e,onClose:t})=>{let[s,n]=l().useState(!1),{cart:i,updateQuantity:d,removeFromCart:c,getTotalPrice:o,getTotalItems:u}=(0,m.j)(),{isAuthenticated:x,openLogin:p}=(0,h.a)();return((0,r.useEffect)(()=>{console.log("Cart Items:",i)},[i]),e)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),a.jsx("div",{className:"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl transform transition-transform",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center",children:[a.jsx(g.Z,{className:"w-5 h-5 mr-2"}),"My Cart (",u(),")"]}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-full",children:a.jsx(b.Z,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:0===i.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(g.Z,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Your cart is empty"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Start shopping to add items"})]}):a.jsx("div",{className:"space-y-4",children:i.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 border rounded-lg p-3",children:[a.jsx("img",{src:e.image,alt:e.name,className:"w-16 h-16 object-cover rounded"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Size: ",e.size]}),(0,a.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:["₹",e.price]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center border rounded",children:[a.jsx("button",{onClick:()=>d(e.id,e.variationId,e.quantity-1),children:a.jsx(j.Z,{className:"w-3 h-3"})}),a.jsx("button",{onClick:()=>{if(e.quantity>=e.stock){alert(`⚠️ Only ${e.stock} item(s) left in stock`);return}d(e.id,e.variationId,e.quantity+1)},className:"p-1 hover:bg-gray-100",children:a.jsx(f.Z,{className:"w-3 h-3"})})]}),a.jsx("button",{onClick:()=>c(e.id),className:"text-xs text-red-600 hover:text-red-800",children:"Remove"})]})]},`${e.id}-${e.variationId}`))})}),i.length>0&&(0,a.jsxs)("div",{className:"border-t p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),(0,a.jsxs)("span",{className:"text-xl font-bold text-red-900",children:["₹",o()]})]}),x?a.jsx("button",{onClick:()=>n(!0),className:"w-full bg-red-900 text-white py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors",children:"Proceed to Pay"}):(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>{t(),p()},className:"w-full bg-gray-400 text-white py-3 rounded-lg font-semibold hover:bg-gray-500 transition-colors",children:"Login First"}),a.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Please login to proceed with payment"})]})]})]})})]}),a.jsx(v,{isOpen:s,onClose:()=>n(!1)})]}):null};function w({isOpen:e,onClose:t}){let{login:s}=(0,h.a)(),[l,n]=(0,r.useState)("otp"),[i,d]=(0,r.useState)(1),[c,o]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[j,f]=(0,r.useState)(""),[y,v]=(0,r.useState)(""),[N,w]=(0,r.useState)(!1),[C,S]=(0,r.useState)(""),k=()=>{t(),n("otp"),d(1),o(""),m(""),g(""),f(""),v(""),S("")};if(!e)return null;let P=async e=>{if(e.preventDefault(),S(""),10!==c.length){S("Enter a valid 10-digit phone number");return}w(!0);try{await x.Z.post("/auth/send-otp",{phone:`91${c}`}),d(2)}catch(e){S(e.response?.data?.message||"Failed to send OTP")}finally{w(!1)}},D=async e=>{if(e.preventDefault(),S(""),6!==u.length){S("Enter a valid 6-digit OTP");return}w(!0);try{let e=await x.Z.post("/auth/verify-otp",{phone:`91${c}`,otp:u});s(e.data.token,e.data.user),k()}catch(e){S(e.response?.data?.message||"OTP verification failed")}finally{w(!1)}},A=async e=>{if(e.preventDefault(),S(""),10!==c.length||!p){S("Phone & password required");return}w(!0);try{let e=await x.Z.post("/auth/user-login",{username:`91${c}`,password:p});s(e.data.token,e.data.user),k()}catch(e){S(e.response?.data?.message||"Invalid credentials")}finally{w(!1)}},Z=async e=>{if(e.preventDefault(),S(""),!j||!y||10!==c.length||p.length<6){S("All fields are required (password min 6 chars)");return}w(!0);try{let e=await x.Z.post("/auth/register",{name:j,email:y,phone:`91${c}`,password:p});s(e.data.token,e.data.user),k()}catch(e){S(e.response?.data?.message||"Registration failed")}finally{w(!1)}};return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:k}),(0,a.jsxs)("div",{className:"relative bg-white rounded-lg w-full max-w-md mx-4 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[("otp"!==l||2===i)&&a.jsx("button",{onClick:()=>{"otp"===l&&2===i?(d(1),m("")):(n("otp"),d(1))},className:"text-xl font-bold px-2 hover:bg-gray-100 rounded",children:"←"}),a.jsx("h2",{className:"text-xl font-bold",children:"otp"===l?1===i?"Login with OTP":"Verify OTP":"password"===l?"Login with Password":"Create Account"})]}),a.jsx("button",{onClick:k,className:"p-1 hover:bg-gray-100 rounded-full",children:a.jsx(b.Z,{className:"w-5 h-5"})})]}),C&&a.jsx("div",{className:"mb-4 bg-red-100 text-red-700 p-3 rounded text-sm",children:C}),"otp"===l&&1===i&&(0,a.jsxs)("form",{onSubmit:P,children:[a.jsx("input",{type:"tel",value:c,onChange:e=>o(e.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit mobile number",className:"w-full mb-4 px-3 py-2 border rounded-lg",required:!0}),a.jsx("button",{type:"submit",disabled:N,className:"w-full bg-red-900 text-white py-2 rounded-lg",children:N?"Sending OTP...":"Send OTP"})]}),"otp"===l&&2===i&&(0,a.jsxs)("form",{onSubmit:D,children:[a.jsx("input",{type:"text",value:u,onChange:e=>m(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Enter OTP",className:"w-full mb-4 px-3 py-2 border rounded-lg text-center tracking-widest",required:!0}),a.jsx("button",{type:"submit",disabled:N,className:"w-full bg-red-900 text-white py-2 rounded-lg",children:N?"Verifying...":"Verify & Login"})]}),"password"===l&&(0,a.jsxs)("form",{onSubmit:A,children:[a.jsx("input",{type:"tel",value:c,onChange:e=>o(e.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"Phone",className:"w-full mb-3 px-3 py-2 border rounded-lg",required:!0}),a.jsx("input",{type:"password",value:p,onChange:e=>g(e.target.value),placeholder:"Password",className:"w-full mb-4 px-3 py-2 border rounded-lg",required:!0}),a.jsx("button",{type:"submit",disabled:N,className:"w-full bg-red-900 text-white py-2 rounded-lg",children:N?"Signing In...":"Sign In"})]}),"register"===l&&(0,a.jsxs)("form",{onSubmit:Z,children:[a.jsx("input",{type:"text",value:j,onChange:e=>f(e.target.value),placeholder:"Name",className:"w-full mb-3 px-3 py-2 border rounded-lg",required:!0}),a.jsx("input",{type:"email",value:y,onChange:e=>v(e.target.value),placeholder:"Email",className:"w-full mb-3 px-3 py-2 border rounded-lg",required:!0}),a.jsx("input",{type:"tel",value:c,onChange:e=>o(e.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"Phone",className:"w-full mb-3 px-3 py-2 border rounded-lg",required:!0}),a.jsx("input",{type:"password",value:p,onChange:e=>g(e.target.value),placeholder:"Password",className:"w-full mb-4 px-3 py-2 border rounded-lg",required:!0}),a.jsx("button",{type:"submit",disabled:N,className:"w-full bg-red-900 text-white py-2 rounded-lg",children:N?"Creating Account...":"Create Account"})]}),(0,a.jsxs)("div",{className:"mt-4 text-center text-sm space-y-2",children:["otp"===l&&1===i&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>n("password"),className:"text-red-900 font-semibold block",children:"Login with password"}),a.jsx("button",{onClick:()=>n("register"),className:"text-red-900 font-semibold block",children:"Create new account"})]}),"password"===l&&a.jsx("button",{onClick:()=>n("register"),className:"text-red-900 font-semibold",children:"New user? Create account"})]})]})]})}function C(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)().get("category"),[s,l]=(0,r.useState)([]),[x,p]=(0,r.useState)(""),[g,b]=(0,r.useState)(!1),[j,f]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[C,S]=(0,r.useState)(!1),[k,P]=(0,r.useState)("/logo.webp"),{getTotalItems:D}=(0,m.j)(),{user:A,isAuthenticated:Z,logout:I}=(0,h.a)(),E=t=>{v(!1),e.push(t?`/products?category=${t}`:"/products")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"bg-white shadow-md sticky top-0 z-50",children:[a.jsx("div",{className:"bg-[#8B1D3D] text-white py-2 text-center text-sm",children:"\uD83C\uDF3F Welcome to Sridevi Herbal & Co – Purely Natural Care \uD83C\uDF3F"}),a.jsx("div",{className:"container mx-auto px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("button",{onClick:()=>{p(""),e.push("/")},className:"flex items-center gap-3",children:[a.jsx("img",{src:k,alt:"Logo",className:"w-10 h-10"}),(0,a.jsxs)("div",{className:"hidden md:block",children:[a.jsx("p",{className:"text-xl font-bold text-[#8B1D3D]",children:"Sridevi Herbal & Co"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Pure Herbal Living"})]})]}),(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),x.trim()&&e.push(`/products?q=${encodeURIComponent(x)}`)},className:"relative flex-1 max-w-xl mx-4",children:[a.jsx("input",{value:x,onChange:e=>p(e.target.value),placeholder:"Search herbal products...",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#8B1D3D]"}),a.jsx(i.Z,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("a",{href:"/about-us",className:"hidden lg:block text-sm text-gray-600 hover:text-[#8B1D3D]",children:"About Us"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>Z?S(!C):f(!0),className:"flex items-center gap-2 text-gray-600",children:[a.jsx(d.Z,{className:"w-5 h-5"}),a.jsx(c.Z,{className:"w-4 h-4"})]}),C&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-52 bg-white border rounded shadow-lg z-50",children:[(0,a.jsxs)("div",{className:"px-4 py-3 border-b",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Signed in as"}),a.jsx("p",{className:"font-semibold",children:A?.phone})]}),(0,a.jsxs)("button",{onClick:()=>{e.push("/account"),S(!1)},className:"w-full px-4 py-2 text-sm hover:bg-gray-100",children:[a.jsx(o.Z,{className:"inline w-4 h-4 mr-2"}),"My Account"]}),a.jsx("button",{onClick:I,className:"w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Logout"})]})]}),(0,a.jsxs)("button",{onClick:()=>b(!0),className:"relative",children:[a.jsx(u.Z,{className:"w-5 h-5 text-gray-600"}),D()>0&&a.jsx("span",{className:"absolute -top-2 -right-2 bg-[#8B1D3D] text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:D()})]})]})]})}),a.jsx("nav",{className:"bg-[#F7E9ED] border-t",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-2 flex justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-6 overflow-x-auto",children:[s.slice(0,8).map(e=>a.jsx("button",{onClick:()=>E(e.slug),className:`text-sm font-medium ${t===e.slug?"text-[#8B1D3D] border-b-2 border-[#8B1D3D]":"text-gray-700 hover:text-[#8B1D3D]"}`,children:e.name},e.id)),(0,a.jsxs)("button",{onClick:()=>v(!0),className:"flex items-center gap-1 text-sm",children:["More ",a.jsx(c.Z,{className:"w-4 h-4"})]})]}),(0,a.jsxs)("div",{className:"flex gap-6 text-sm",children:[a.jsx("button",{onClick:()=>e.push("/bath-powder-story"),children:"Bath Powder Story"}),a.jsx("button",{onClick:()=>e.push("/success-story"),children:"Success Story"})]})]})})]}),y&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 max-w-2xl w-full",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"All Categories"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:s.map(e=>a.jsx("button",{onClick:()=>E(e.slug),className:"text-left p-2 hover:bg-[#F7E9ED]",children:e.name},e.id))})]})}),a.jsx(N,{isOpen:g,onClose:()=>b(!1)}),a.jsx(w,{isOpen:j,onClose:()=>f(!1)})]})}var S=s(5612);function k({children:e}){let t=(0,n.useRouter)(),{loginOpen:s,closeLogin:l}=(0,h.a)();return(0,a.jsxs)(p.T,{children:[a.jsx(r.Suspense,{fallback:a.jsx("div",{}),children:a.jsx(C,{onCategorySelect:e=>{t.push(`/products?category=${encodeURIComponent(e)}`)},onSearch:e=>{t.push(`/products?search=${encodeURIComponent(e)}`)},onProductClick:e=>{t.push(`/product/${e}`)}})}),e,a.jsx(S.Z,{}),a.jsx(w,{isOpen:s,onClose:l})]})}},5612:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(326);s(7577);var r=s(434),l=s(6226),n=s(1806),i=s(4738),d=s(1109),c=s(9730);function o(){return(0,a.jsxs)("footer",{className:"bg-white text-gray-800 border-t",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-12",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-10",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(l.default,{src:"/logo.webp",alt:"Sridevi Herbal and Co",width:50,height:50}),a.jsx("h3",{className:"text-lg font-semibold",children:"Sridevi Herbal and Co"})]}),a.jsx("h4",{className:"font-semibold mb-2",children:"About Us"}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Hi, I am Vemula Sridevi I have done 2 years Ayurvedic diploma along with naturopathy course I am an expert in natural skin and hair care products I have trained..."}),a.jsx(r.default,{href:"/about-us",className:"inline-block mt-2 text-sm font-medium text-green-700 hover:underline",children:"View More"})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold mb-4",children:"Home"}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsx("li",{children:a.jsx(r.default,{href:"/",className:"hover:text-green-700",children:"Home"})}),a.jsx("li",{children:a.jsx(r.default,{href:"/shop",className:"hover:text-green-700",children:"Shop \xa0 >"})}),a.jsx("li",{children:a.jsx(r.default,{href:"/bath-powder-story",className:"hover:text-green-700",children:"Bath Powder Story"})}),a.jsx("li",{children:a.jsx(r.default,{href:"/social-media",className:"hover:text-green-700",children:"Social Media"})}),a.jsx("li",{children:a.jsx(r.default,{href:"/success-story",className:"hover:text-green-700",children:"Success Story"})}),a.jsx("li",{children:a.jsx(r.default,{href:"/more",className:"hover:text-green-700",children:"More \xa0 >"})}),a.jsx("li",{children:a.jsx(r.default,{href:"/login",className:"hover:text-green-700",children:"Login"})})]}),(0,a.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[a.jsx("p",{className:"flex items-center gap-2",children:"✉️ herbalandco@gmail.com"}),a.jsx("p",{className:"flex items-center gap-2 mt-1",children:"\uD83D\uDCDE 8919105591"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold mb-4",children:"Visit Us"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 leading-relaxed",children:["Peerzadiguda, Uppal,",a.jsx("br",{}),"Hyderabad, Telangana,",a.jsx("br",{}),"500098"]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold mb-4",children:"Follow us here"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx("a",{href:"#","aria-label":"Facebook",children:a.jsx(n.Z,{className:"w-6 h-6 text-blue-600"})}),a.jsx("a",{href:"#","aria-label":"Instagram",children:a.jsx(i.Z,{className:"w-6 h-6 text-pink-500"})}),a.jsx("a",{href:"#","aria-label":"YouTube",children:a.jsx(d.Z,{className:"w-6 h-6 text-red-600"})}),a.jsx("a",{href:"#","aria-label":"WhatsApp",children:a.jsx(c.Z,{className:"w-6 h-6 text-green-600"})})]})]})]})}),(0,a.jsxs)("div",{className:"border-t py-4 text-center text-sm text-gray-500",children:["\xa9 ",new Date().getFullYear()," Sridevi Herbal and Co. All rights reserved."]})]})}},8700:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>n,a:()=>i});var a=s(326),r=s(7577);let l=(0,r.createContext)(void 0);function n({children:e}){let[t,s]=(0,r.useState)(null),[n,i]=(0,r.useState)(null),[d,c]=(0,r.useState)(!0),[o,u]=(0,r.useState)(!1);return a.jsx(l.Provider,{value:{user:t,token:n,isAuthenticated:!!n,loading:d,login:(e,t)=>{i(e),s(t),u(!1)},logout:()=>{s(null),i(null),localStorage.removeItem("cartSynced")},updateUser:e=>{s(t=>t?{...t,...e}:t)},loginOpen:o,openLogin:()=>u(!0),closeLogin:()=>u(!1)},children:!d&&e})}function i(){let e=(0,r.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},1783:(e,t,s)=>{"use strict";s.d(t,{CartProvider:()=>c,j:()=>o});var a=s(326),r=s(7577),l=s(6824),n=s(8700);let i=(0,r.createContext)(void 0),d=null;function c({children:e}){let{token:t}=(0,n.a)(),[s,c]=(0,r.useState)([]),o=e=>{t&&(clearTimeout(d),d=setTimeout(async()=>{try{await l.Z.post("/cart/sync",{cart:e}),console.log("\uD83D\uDD04 Cart synced live")}catch(e){console.error("❌ Live sync failed",e)}},400))};return a.jsx(i.Provider,{value:{cart:s,addToCart:e=>{if(0===e.stock){alert("❌ This product is out of stock");return}c(t=>{let s;let a=t.find(t=>t.id===e.id&&t.variationId===e.variationId);if(a){if(a.quantity>=a.stock)return alert(`⚠️ Only ${a.stock} item(s) available`),t;s=t.map(t=>t.id===e.id&&t.variationId===e.variationId?{...t,quantity:t.quantity+1}:t)}else s=[...t,{...e,quantity:1}];return o(s),s})},removeFromCart:(e,t)=>{c(s=>{let a=s.filter(s=>!(s.id===e&&s.variationId===t));return o(a),a})},updateQuantity:(e,t,s)=>{c(a=>{let r=a.map(a=>a.id===e&&a.variationId===t?s>a.stock?(alert(`⚠️ Only ${a.stock} item(s) available`),a):{...a,quantity:Math.max(1,s)}:a);return o(r),r})},clearCart:()=>{c([]),localStorage.removeItem("jb-fashions-cart"),localStorage.removeItem("cartSynced")},getTotalItems:()=>s.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>s.reduce((e,t)=>e+t.price*t.quantity,0)},children:e})}function o(){let e=(0,r.useContext)(i);if(!e)throw Error("useCart must be used within a CartProvider");return e}},6414:(e,t,s)=>{"use strict";s.d(t,{E:()=>c,T:()=>d});var a=s(326),r=s(7577),l=s(6824),n=s(8700);let i=(0,r.createContext)(null),d=({children:e})=>{let{isAuthenticated:t}=(0,n.a)(),[s,d]=(0,r.useState)([]),[c,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t?u():d([])},[t]);let u=async()=>{try{o(!0);let e=await l.Z.get("/cart/get-wishlist");if(e.data?.success===!1){setError(e.data.message||"Failed to load wishlist"),d([]);return}d(e.data.data||[])}catch(e){e.response?.data?.message||e.message,d([])}finally{o(!1)}},x=async e=>{try{await l.Z.post("/cart/wishlist-toggle",{product_id:e.id}),u()}catch(e){console.error("Wishlist toggle failed",e.message)}};return a.jsx(i.Provider,{value:{wishlist:s,toggleWishlist:x,isInWishlist:e=>s.some(t=>t.id===e),getWishlistCount:()=>s.length,clearWishlist:()=>d([]),loading:c},children:e})},c=()=>{let e=(0,r.useContext)(i);if(!e)throw Error("useWishlist must be used inside WishlistProvider");return e}},6824:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let a=s(4464).Z.create({baseURL:"https://herbal-api.easybizcart.com/api",headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4});a.interceptors.request.use(e=>e,e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>Promise.reject(e));let r=a},2249:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,metadata:()=>o});var a=s(9510),r=s(2584),l=s.n(r);s(7272);var n=s(8570);let i=(0,n.createProxy)(String.raw`D:\HERBAL\Herbals-next\Herbals\app\LayoutClient.jsx#default`),d=(0,n.createProxy)(String.raw`D:\HERBAL\Herbals-next\Herbals\contexts\AuthContext.jsx#AuthProvider`);(0,n.createProxy)(String.raw`D:\HERBAL\Herbals-next\Herbals\contexts\AuthContext.jsx#useAuth`);let c=(0,n.createProxy)(String.raw`D:\HERBAL\Herbals-next\Herbals\contexts\CartContext.jsx#CartProvider`);(0,n.createProxy)(String.raw`D:\HERBAL\Herbals-next\Herbals\contexts\CartContext.jsx#useCart`);let o={title:"Sridevi Herbal & Co - Purely Natural Care",description:"Purely Natural Care. Trusted by crores of Indians. Free delivery, Cash on delivery, Lowest prices."};function u({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:l().className,children:a.jsx(d,{children:a.jsx(c,{children:a.jsx(i,{children:e})})})})})}},8258:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(9510);function r(){return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("h1",{className:"text-2xl font-bold",children:"Page Not Found"})})}},7272:()=>{}};