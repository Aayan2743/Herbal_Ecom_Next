(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4319:function(e,s,t){Promise.resolve().then(t.bind(t,2451)),Promise.resolve().then(t.bind(t,446)),Promise.resolve().then(t.bind(t,3405)),Promise.resolve().then(t.t.bind(t,343,23)),Promise.resolve().then(t.t.bind(t,7960,23))},2451:function(e,s,t){"use strict";t.d(s,{default:function(){return S}});var a=t(7437),l=t(2265),r=t(9376),n=t(9205);let d=(0,n.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),i=(0,n.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),c=(0,n.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var o=t(8997),x=t(6275),u=t(9116),m=t(3405),h=t(446),p=t(8158);let g=(0,n.Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),b=(0,n.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),f=(0,n.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),j=(0,n.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var y=t(2660),v=e=>{let{isOpen:s,onClose:t}=e,{cart:r,getTotalPrice:n,clearCart:d}=(0,m.j)(),{user:i}=(0,h.a)(),[c,o]=(0,l.useState)(1),[x,p]=(0,l.useState)([]),[g,f]=(0,l.useState)(null),[j,v]=(0,l.useState)(""),[N,w]=(0,l.useState)(!1),[C,k]=(0,l.useState)(""),[S,D]=(0,l.useState)(!1),[P,Z]=(0,l.useState)(0),[_,E]=(0,l.useState)(n()),[A,F]=(0,l.useState)(""),[O,I]=(0,l.useState)(!1),[q,R]=(0,l.useState)({name:"",phone:"",address:"",city:"",state:"",country:"",pincode:""});(0,l.useEffect)(()=>{s&&i&&z()},[s,i]);let z=async()=>{try{w(!0);let e=(await u.Z.get("/cart/get-address")).data.data||[];p(e),e.length>0&&f(e[0].id)}catch(e){console.error("Address fetch failed",e)}finally{w(!1)}},M=()=>new Promise(e=>{let s=document.createElement("script");s.src="https://checkout.razorpay.com/v1/checkout.js",s.onload=()=>e(!0),s.onerror=()=>e(!1),document.body.appendChild(s)}),T=async()=>{if(C)try{D(!0),F("");let e=await u.Z.post("/cart/apply-coupon",{code:C,amount:n()});e.data.success&&(Z(e.data.discount),E(e.data.finalAmount))}catch(t){var e,s;Z(0),E(n()),F((null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Invalid coupon")}finally{D(!1)}},L=async()=>{if(!await M()){alert("Razorpay SDK failed");return}let{order:e}=(await u.Z.post("/cart/create-order",{amount:_})).data,s={key:"rzp_test_RywTw9KUnaPKxd",amount:e.amount,currency:"INR",name:"Sridevi Herbal & Co",description:"Order Payment",order_id:e.id,handler:async function(e){try{if(!(await u.Z.post("/cart/verify-payment",e)).data.success){alert("Payment verification failed");return}let s=await u.Z.post("/cart/save-order",{address_id:g,items:r.map(e=>({product_id:e.id,variation_id:e.variationId,quantity:e.quantity,price:e.price})),coupon_code:C||null,discount:P,subtotal:n(),total_amount:_,payment_method:"razorpay",payment_id:e.razorpay_payment_id});console.log("ORDER CREATED:",s.data),alert("Payment successful \uD83C\uDF89"),d(),k(""),Z(0),E(n()),t()}catch(e){console.error("ORDER CREATION FAILED:",e),alert("Order creation failed")}},prefill:{name:null==i?void 0:i.name,contact:null==i?void 0:i.phone},theme:{color:"#7f1d1d"}};new window.Razorpay(s).open()};(0,l.useEffect)(()=>{s&&0===x.length&&!N&&I(!0)},[s,x,N]),(0,l.useEffect)(()=>{s&&(async()=>{try{w(!0);let e=(await u.Z.get("/cart/get-address")).data.data||[];p(e),e.length>0?(f(e[0].id),I(!1)):I(!0),o(1)}catch(e){console.error("Fetch address on checkout open failed",e)}finally{w(!1)}})()},[s]);let B=async e=>{if(R(s=>({...s,pincode:e})),6===e.length)try{var s;let t=await fetch("https://api.postalpincode.in/pincode/".concat(e)),a=await t.json();if((null===(s=a[0])||void 0===s?void 0:s.Status)==="Success"){let e=a[0].PostOffice[0];R(s=>({...s,city:e.District,state:e.State,country:e.Country}))}}catch(e){console.error("Pincode error")}},H=async()=>{let{name:e,phone:s,address:t,pincode:a}=q;if(!e||!s||!t||!a){alert("Please fill all required fields");return}try{let e=(await u.Z.post("/cart/add-address",q)).data.data;p(s=>[e,...s]),f(e.id),I(!1)}catch(e){alert("Failed to save address")}};return s?(0,a.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:t}),(0,a.jsxs)("div",{className:"absolute right-0 top-0 h-full w-full max-w-2xl bg-white flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-5 bg-red-900 text-white",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Checkout"}),(0,a.jsx)("button",{onClick:t,children:(0,a.jsx)(b,{})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[1===c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>I(!0),className:"w-full border border-dashed border-red-900 text-red-900 py-3 rounded mb-4 font-medium",children:"+ Add New Address"}),N&&(0,a.jsx)("p",{children:"Loading addresses..."}),!N&&0===x.length&&(0,a.jsxs)("div",{className:"text-center text-gray-500 mt-10",children:[(0,a.jsx)("p",{children:"No address found"}),(0,a.jsx)("p",{className:"text-xs",children:"Please add a delivery address"})]}),x.map(e=>(0,a.jsxs)("div",{onClick:()=>f(e.id),className:"border p-4 rounded mb-3 cursor-pointer ".concat(g===e.id?"border-red-900 bg-red-50":""),children:[(0,a.jsx)("p",{className:"font-semibold",children:e.name}),(0,a.jsx)("p",{className:"text-sm",children:e.phone}),(0,a.jsxs)("p",{className:"text-sm",children:[e.address,", ",e.city,", ",e.state," - ",e.pincode]})]},e.id))]}),2===c&&(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[{id:"cod",name:"Cash on Delivery",icon:"\uD83D\uDCB0"},{id:"upi",name:"UPI Payment",icon:"\uD83D\uDCF1"}].map(e=>(0,a.jsxs)("div",{onClick:()=>v(e.id),className:"border p-4 rounded cursor-pointer ".concat(j===e.id?"border-red-900 bg-red-50":""),children:[(0,a.jsx)("div",{className:"text-xl",children:e.icon}),(0,a.jsx)("p",{className:"font-semibold",children:e.name})]},e.id))}),3===c&&(0,a.jsxs)(a.Fragment,{children:[r.map(e=>(0,a.jsxs)("div",{className:"flex gap-4 border p-3 rounded mb-3",children:[(0,a.jsx)("img",{src:e.image,className:"w-16 h-16 rounded object-cover"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-sm",children:["Qty: ",e.quantity]}),(0,a.jsxs)("p",{className:"font-semibold",children:["₹",e.price*e.quantity]})]})]},e.id)),(0,a.jsxs)("div",{className:"border-t pt-4 space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Subtotal"}),(0,a.jsxs)("span",{children:["₹",n()]})]}),P>0&&(0,a.jsxs)("div",{className:"flex justify-between text-sm text-green-600",children:[(0,a.jsx)("span",{children:"Coupon Discount"}),(0,a.jsxs)("span",{children:["- ₹",P]})]}),(0,a.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{children:["₹",_]})]})]}),(0,a.jsxs)("div",{className:"border rounded-lg p-4 mt-4 space-y-2",children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:"Apply Coupon"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{value:C,onChange:e=>k(e.target.value.toUpperCase()),placeholder:"Enter coupon code",className:"flex-1 border rounded px-3 py-2 text-sm",disabled:P>0}),P>0?(0,a.jsx)("button",{onClick:()=>{k(""),Z(0),E(n()),F("")},className:"px-4 py-2 text-sm bg-gray-200 rounded",children:"Remove"}):(0,a.jsx)("button",{onClick:T,disabled:S,className:"px-4 py-2 text-sm bg-red-900 text-white rounded",children:S?"Applying...":"Apply"})]}),A&&(0,a.jsx)("p",{className:"text-xs text-red-600",children:A})]})]})]}),(0,a.jsxs)("div",{className:"border-t p-5 flex justify-between items-center",children:[c>1?(0,a.jsxs)("button",{onClick:()=>o(c-1),className:"flex items-center gap-1 text-sm",children:[(0,a.jsx)(y.Z,{size:16})," Back"]}):(0,a.jsx)("div",{}),c<3?(0,a.jsx)("button",{disabled:1===c&&0===x.length,onClick:()=>{if(2===c&&!j){alert("Select payment method");return}o(c+1)},className:"px-6 py-2 rounded ".concat(1===c&&0===x.length?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-red-900 text-white"),children:"Next"}):(0,a.jsx)("button",{onClick:L,className:"bg-green-600 text-white px-6 py-2 rounded",children:"Place Order"})]})]}),O&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:(0,a.jsxs)("div",{className:"bg-white w-full max-w-md rounded-xl p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Add Address"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsx)("input",{placeholder:"Full Name",className:"w-full px-3 py-2 border rounded",onChange:e=>R({...q,name:e.target.value})}),(0,a.jsx)("input",{placeholder:"Mobile Number",maxLength:10,className:"w-full px-3 py-2 border rounded",onChange:e=>R({...q,phone:e.target.value.replace(/\D/g,"")})}),(0,a.jsx)("textarea",{placeholder:"House No, Street, Area",rows:2,className:"w-full px-3 py-2 border rounded",onChange:e=>R({...q,address:e.target.value})}),(0,a.jsx)("input",{placeholder:"Pincode",maxLength:6,className:"w-full px-3 py-2 border rounded",onChange:e=>B(e.target.value)}),(0,a.jsx)("input",{value:q.city,readOnly:!0,className:"w-full px-3 py-2 bg-gray-100 border rounded"}),(0,a.jsx)("input",{value:q.state,readOnly:!0,className:"w-full px-3 py-2 bg-gray-100 border rounded"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,a.jsx)("button",{onClick:()=>I(!1),className:"px-4 py-2 border rounded",children:"Cancel"}),(0,a.jsx)("button",{onClick:H,className:"px-4 py-2 bg-red-900 text-white rounded",children:"Save"})]})]})})]}):null},N=e=>{let{isOpen:s,onClose:t}=e,[r,n]=l.useState(!1),{cart:d,updateQuantity:i,removeFromCart:c,getTotalPrice:o,getTotalItems:x}=(0,m.j)(),{isAuthenticated:u,openLogin:p}=(0,h.a)();return((0,l.useEffect)(()=>{console.log("Cart Items:",d)},[d]),s)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,a.jsx)("div",{className:"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl transform transition-transform",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center",children:[(0,a.jsx)(g,{className:"w-5 h-5 mr-2"}),"My Cart (",x(),")"]}),(0,a.jsx)("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-full",children:(0,a.jsx)(b,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:0===d.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Your cart is empty"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Start shopping to add items"})]}):(0,a.jsx)("div",{className:"space-y-4",children:d.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 border rounded-lg p-3",children:[(0,a.jsx)("img",{src:e.image,alt:e.name,className:"w-16 h-16 object-cover rounded"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Size: ",e.size]}),(0,a.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:["₹",e.price]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center border rounded",children:[(0,a.jsx)("button",{onClick:()=>i(e.id,e.variationId,e.quantity-1),children:(0,a.jsx)(f,{className:"w-3 h-3"})}),(0,a.jsx)("button",{onClick:()=>{if(e.quantity>=e.stock){alert("⚠️ Only ".concat(e.stock," item(s) left in stock"));return}i(e.id,e.variationId,e.quantity+1)},className:"p-1 hover:bg-gray-100",children:(0,a.jsx)(j,{className:"w-3 h-3"})})]}),(0,a.jsx)("button",{onClick:()=>c(e.id),className:"text-xs text-red-600 hover:text-red-800",children:"Remove"})]})]},"".concat(e.id,"-").concat(e.variationId)))})}),d.length>0&&(0,a.jsxs)("div",{className:"border-t p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("span",{className:"text-lg font-semibold",children:"Total:"}),(0,a.jsxs)("span",{className:"text-xl font-bold text-red-900",children:["₹",o()]})]}),u?(0,a.jsx)("button",{onClick:()=>n(!0),className:"w-full bg-red-900 text-white py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors",children:"Proceed to Pay"}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("button",{onClick:()=>{t(),p()},className:"w-full bg-gray-400 text-white py-3 rounded-lg font-semibold hover:bg-gray-500 transition-colors",children:"Login First"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Please login to proceed with payment"})]})]})]})})]}),(0,a.jsx)(v,{isOpen:r,onClose:()=>n(!1)})]}):null};function w(e){let{isOpen:s,onClose:t}=e,{login:r}=(0,h.a)(),[n,d]=(0,l.useState)("otp"),[i,c]=(0,l.useState)(1),[o,x]=(0,l.useState)(""),[m,p]=(0,l.useState)(""),[g,f]=(0,l.useState)(""),[j,y]=(0,l.useState)(""),[v,N]=(0,l.useState)(""),[w,C]=(0,l.useState)(!1),[k,S]=(0,l.useState)(""),D=()=>{t(),d("otp"),c(1),x(""),p(""),f(""),y(""),N(""),S("")};if(!s)return null;let P=async e=>{if(e.preventDefault(),S(""),10!==o.length){S("Enter a valid 10-digit phone number");return}C(!0);try{await u.Z.post("/auth/send-otp",{phone:"91".concat(o)}),c(2)}catch(e){var s,t;S((null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"Failed to send OTP")}finally{C(!1)}},Z=async e=>{if(e.preventDefault(),S(""),6!==m.length){S("Enter a valid 6-digit OTP");return}C(!0);try{let e=await u.Z.post("/auth/verify-otp",{phone:"91".concat(o),otp:m});r(e.data.token,e.data.user),D()}catch(e){var s,t;S((null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"OTP verification failed")}finally{C(!1)}},_=async e=>{if(e.preventDefault(),S(""),10!==o.length||!g){S("Phone & password required");return}C(!0);try{let e=await u.Z.post("/auth/user-login",{username:"91".concat(o),password:g});r(e.data.token,e.data.user),D()}catch(e){var s,t;S((null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"Invalid credentials")}finally{C(!1)}},E=async e=>{if(e.preventDefault(),S(""),!j||!v||10!==o.length||g.length<6){S("All fields are required (password min 6 chars)");return}C(!0);try{let e=await u.Z.post("/auth/register",{name:j,email:v,phone:"91".concat(o),password:g});r(e.data.token,e.data.user),D()}catch(e){var s,t;S((null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"Registration failed")}finally{C(!1)}};return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:D}),(0,a.jsxs)("div",{className:"relative bg-white rounded-lg w-full max-w-md mx-4 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[("otp"!==n||2===i)&&(0,a.jsx)("button",{onClick:()=>{"otp"===n&&2===i?(c(1),p("")):(d("otp"),c(1))},className:"text-xl font-bold px-2 hover:bg-gray-100 rounded",children:"←"}),(0,a.jsx)("h2",{className:"text-xl font-bold",children:"otp"===n?1===i?"Login with OTP":"Verify OTP":"password"===n?"Login with Password":"Create Account"})]}),(0,a.jsx)("button",{onClick:D,className:"p-1 hover:bg-gray-100 rounded-full",children:(0,a.jsx)(b,{className:"w-5 h-5"})})]}),k&&(0,a.jsx)("div",{className:"mb-4 bg-red-100 text-red-700 p-3 rounded text-sm",children:k}),"otp"===n&&1===i&&(0,a.jsxs)("form",{onSubmit:P,children:[(0,a.jsx)("input",{type:"tel",value:o,onChange:e=>x(e.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit mobile number",className:"w-full mb-4 px-3 py-2 border rounded-lg",required:!0}),(0,a.jsx)("button",{type:"submit",disabled:w,className:"w-full bg-red-900 text-white py-2 rounded-lg",children:w?"Sending OTP...":"Send OTP"})]}),"otp"===n&&2===i&&(0,a.jsxs)("form",{onSubmit:Z,children:[(0,a.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Enter OTP",className:"w-full mb-4 px-3 py-2 border rounded-lg text-center tracking-widest",required:!0}),(0,a.jsx)("button",{type:"submit",disabled:w,className:"w-full bg-red-900 text-white py-2 rounded-lg",children:w?"Verifying...":"Verify & Login"})]}),"password"===n&&(0,a.jsxs)("form",{onSubmit:_,children:[(0,a.jsx)("input",{type:"tel",value:o,onChange:e=>x(e.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"Phone",className:"w-full mb-3 px-3 py-2 border rounded-lg",required:!0}),(0,a.jsx)("input",{type:"password",value:g,onChange:e=>f(e.target.value),placeholder:"Password",className:"w-full mb-4 px-3 py-2 border rounded-lg",required:!0}),(0,a.jsx)("button",{type:"submit",disabled:w,className:"w-full bg-red-900 text-white py-2 rounded-lg",children:w?"Signing In...":"Sign In"})]}),"register"===n&&(0,a.jsxs)("form",{onSubmit:E,children:[(0,a.jsx)("input",{type:"text",value:j,onChange:e=>y(e.target.value),placeholder:"Name",className:"w-full mb-3 px-3 py-2 border rounded-lg",required:!0}),(0,a.jsx)("input",{type:"email",value:v,onChange:e=>N(e.target.value),placeholder:"Email",className:"w-full mb-3 px-3 py-2 border rounded-lg",required:!0}),(0,a.jsx)("input",{type:"tel",value:o,onChange:e=>x(e.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"Phone",className:"w-full mb-3 px-3 py-2 border rounded-lg",required:!0}),(0,a.jsx)("input",{type:"password",value:g,onChange:e=>f(e.target.value),placeholder:"Password",className:"w-full mb-4 px-3 py-2 border rounded-lg",required:!0}),(0,a.jsx)("button",{type:"submit",disabled:w,className:"w-full bg-red-900 text-white py-2 rounded-lg",children:w?"Creating Account...":"Create Account"})]}),(0,a.jsxs)("div",{className:"mt-4 text-center text-sm space-y-2",children:["otp"===n&&1===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>d("password"),className:"text-red-900 font-semibold block",children:"Login with password"}),(0,a.jsx)("button",{onClick:()=>d("register"),className:"text-red-900 font-semibold block",children:"Create new account"})]}),"password"===n&&(0,a.jsx)("button",{onClick:()=>d("register"),className:"text-red-900 font-semibold",children:"New user? Create account"})]})]})]})}function C(){let e=(0,r.useRouter)(),s=(0,r.useSearchParams)().get("category"),[t,n]=(0,l.useState)([]),[p,g]=(0,l.useState)(""),[b,f]=(0,l.useState)(!1),[j,y]=(0,l.useState)(!1),[v,C]=(0,l.useState)(!1),[k,S]=(0,l.useState)(!1),[D,P]=(0,l.useState)("/logo.webp"),{getTotalItems:Z}=(0,m.j)(),{user:_,isAuthenticated:E,logout:A}=(0,h.a)();(0,l.useEffect)(()=>{(async()=>{try{var e,s;let t=await u.Z.get("/dashboard/pos/categories");n((null!==(s=null===(e=t.data)||void 0===e?void 0:e.data)&&void 0!==s?s:[]).filter(e=>"number"==typeof e.id))}catch(e){console.error("Category load failed",e)}})()},[]),(0,l.useEffect)(()=>{(async()=>{try{var e,s,t;let a=await u.Z.get("/dashboard/logo-settings-open");(null===(e=a.data)||void 0===e?void 0:e.status)&&(null===(t=a.data)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.logo)&&P(a.data.data.logo)}catch(e){console.error("Logo load failed",e)}})()},[]);let F=s=>{C(!1),e.push(s?"/products?category=".concat(s):"/products")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"bg-white shadow-md sticky top-0 z-50",children:[(0,a.jsx)("div",{className:"bg-[#8B1D3D] text-white py-2 text-center text-sm",children:"\uD83C\uDF3F Welcome to Sridevi Herbal & Co – Purely Natural Care \uD83C\uDF3F"}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("button",{onClick:()=>{g(""),e.push("/")},className:"flex items-center gap-3",children:[(0,a.jsx)("img",{src:D,alt:"Logo",className:"w-10 h-10"}),(0,a.jsxs)("div",{className:"hidden md:block",children:[(0,a.jsx)("p",{className:"text-xl font-bold text-[#8B1D3D]",children:"Sridevi Herbal & Co"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Pure Herbal Living"})]})]}),(0,a.jsxs)("form",{onSubmit:s=>{s.preventDefault(),p.trim()&&e.push("/products?q=".concat(encodeURIComponent(p)))},className:"relative flex-1 max-w-xl mx-4",children:[(0,a.jsx)("input",{value:p,onChange:e=>g(e.target.value),placeholder:"Search herbal products...",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#8B1D3D]"}),(0,a.jsx)(d,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("a",{href:"/about-us",className:"hidden lg:block text-sm text-gray-600 hover:text-[#8B1D3D]",children:"About Us"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>E?S(!k):y(!0),className:"flex items-center gap-2 text-gray-600",children:[(0,a.jsx)(i,{className:"w-5 h-5"}),(0,a.jsx)(c,{className:"w-4 h-4"})]}),k&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-52 bg-white border rounded shadow-lg z-50",children:[(0,a.jsxs)("div",{className:"px-4 py-3 border-b",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Signed in as"}),(0,a.jsx)("p",{className:"font-semibold",children:null==_?void 0:_.phone})]}),(0,a.jsxs)("button",{onClick:()=>{e.push("/account"),S(!1)},className:"w-full px-4 py-2 text-sm hover:bg-gray-100",children:[(0,a.jsx)(o.Z,{className:"inline w-4 h-4 mr-2"}),"My Account"]}),(0,a.jsx)("button",{onClick:A,className:"w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Logout"})]})]}),(0,a.jsxs)("button",{onClick:()=>f(!0),className:"relative",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 text-gray-600"}),Z()>0&&(0,a.jsx)("span",{className:"absolute -top-2 -right-2 bg-[#8B1D3D] text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:Z()})]})]})]})}),(0,a.jsx)("nav",{className:"bg-[#F7E9ED] border-t",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-2 flex justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-6 overflow-x-auto",children:[t.slice(0,8).map(e=>(0,a.jsx)("button",{onClick:()=>F(e.slug),className:"text-sm font-medium ".concat(s===e.slug?"text-[#8B1D3D] border-b-2 border-[#8B1D3D]":"text-gray-700 hover:text-[#8B1D3D]"),children:e.name},e.id)),(0,a.jsxs)("button",{onClick:()=>C(!0),className:"flex items-center gap-1 text-sm",children:["More ",(0,a.jsx)(c,{className:"w-4 h-4"})]})]}),(0,a.jsxs)("div",{className:"flex gap-6 text-sm",children:[(0,a.jsx)("button",{onClick:()=>e.push("/bath-powder-story"),children:"Bath Powder Story"}),(0,a.jsx)("button",{onClick:()=>e.push("/success-story"),children:"Success Story"})]})]})})]}),v&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 max-w-2xl w-full",children:[(0,a.jsx)("h3",{className:"font-semibold mb-4",children:"All Categories"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:t.map(e=>(0,a.jsx)("button",{onClick:()=>F(e.slug),className:"text-left p-2 hover:bg-[#F7E9ED]",children:e.name},e.id))})]})}),(0,a.jsx)(N,{isOpen:b,onClose:()=>f(!1)}),(0,a.jsx)(w,{isOpen:j,onClose:()=>y(!1)})]})}var k=t(3034);function S(e){let{children:s}=e,t=(0,r.useRouter)(),{loginOpen:n,closeLogin:d}=(0,h.a)();return(0,a.jsxs)(p.T,{children:[(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("div",{}),children:(0,a.jsx)(C,{onCategorySelect:e=>{t.push("/products?category=".concat(encodeURIComponent(e)))},onSearch:e=>{t.push("/products?search=".concat(encodeURIComponent(e)))},onProductClick:e=>{t.push("/product/".concat(e))}})}),s,(0,a.jsx)(k.Z,{}),(0,a.jsx)(w,{isOpen:n,onClose:d})]})}},3034:function(e,s,t){"use strict";t.d(s,{Z:function(){return o}});var a=t(7437);t(2265);var l=t(7648),r=t(3145),n=t(9219),d=t(7760),i=t(4767),c=t(2718);function o(){return(0,a.jsxs)("footer",{className:"bg-white text-gray-800 border-t",children:[(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-12",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-10",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(r.default,{src:"/logo.webp",alt:"Sridevi Herbal and Co",width:50,height:50}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Sridevi Herbal and Co"})]}),(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"About Us"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Hi, I am Vemula Sridevi I have done 2 years Ayurvedic diploma along with naturopathy course I am an expert in natural skin and hair care products I have trained..."}),(0,a.jsx)(l.default,{href:"/about-us",className:"inline-block mt-2 text-sm font-medium text-green-700 hover:underline",children:"View More"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-4",children:"Home"}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/",className:"hover:text-green-700",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/shop",className:"hover:text-green-700",children:"Shop \xa0 >"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/bath-powder-story",className:"hover:text-green-700",children:"Bath Powder Story"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/social-media",className:"hover:text-green-700",children:"Social Media"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/success-story",className:"hover:text-green-700",children:"Success Story"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/more",className:"hover:text-green-700",children:"More \xa0 >"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/login",className:"hover:text-green-700",children:"Login"})})]}),(0,a.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[(0,a.jsx)("p",{className:"flex items-center gap-2",children:"✉️ herbalandco@gmail.com"}),(0,a.jsx)("p",{className:"flex items-center gap-2 mt-1",children:"\uD83D\uDCDE 8919105591"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-4",children:"Visit Us"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 leading-relaxed",children:["Peerzadiguda, Uppal,",(0,a.jsx)("br",{}),"Hyderabad, Telangana,",(0,a.jsx)("br",{}),"500098"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-4",children:"Follow us here"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("a",{href:"#","aria-label":"Facebook",children:(0,a.jsx)(n.Z,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsx)("a",{href:"#","aria-label":"Instagram",children:(0,a.jsx)(d.Z,{className:"w-6 h-6 text-pink-500"})}),(0,a.jsx)("a",{href:"#","aria-label":"YouTube",children:(0,a.jsx)(i.Z,{className:"w-6 h-6 text-red-600"})}),(0,a.jsx)("a",{href:"#","aria-label":"WhatsApp",children:(0,a.jsx)(c.Z,{className:"w-6 h-6 text-green-600"})})]})]})]})}),(0,a.jsxs)("div",{className:"border-t py-4 text-center text-sm text-gray-500",children:["\xa9 ",new Date().getFullYear()," Sridevi Herbal and Co. All rights reserved."]})]})}},7960:function(){},343:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}}},function(e){e.O(0,[258,464,911,738,180,971,117,744],function(){return e(e.s=4319)}),_N_E=e.O()}]);