(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4586:function(e,t,a){Promise.resolve().then(a.bind(a,5864))},5864:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(7437),r=a(2265),l=a(3145),i=a(9116),n=e=>{let{onComplete:t}=e,[a,n]=(0,r.useState)(0),[o,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)(!1),[m,g]=(0,r.useState)("/logo.webp"),h=[{emoji:"\uD83C\uDF3F",name:"Herbs"},{emoji:"\uD83C\uDF31",name:"Natural"},{emoji:"\uD83C\uDF43",name:"Ayurvedic"},{emoji:"\uD83E\uDDF4",name:"Herbal Care"},{emoji:"\uD83C\uDF3C",name:"Wellness"}];return((0,r.useEffect)(()=>{let e=setTimeout(()=>u(!0),200),a=setInterval(()=>{n(e=>e<h.length-1?e+1:(clearInterval(a),setTimeout(()=>{c(!1),setTimeout(t,500)},800),e))},600);return()=>{clearTimeout(e),clearInterval(a)}},[t,h.length]),(0,r.useEffect)(()=>{(async()=>{try{var e;let t=(await i.Z.get("/dashboard/logo-settings-open")).data;t.status&&(null===(e=t.data)||void 0===e?void 0:e.logo)&&g(t.data.logo)}catch(e){console.error("Logo fetch failed",e)}})()},[]),o)?(0,s.jsx)("div",{className:"fixed inset-0 bg-white flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mb-8 transition-all duration-700 ease-out ".concat(d?"scale-100 opacity-100":"scale-75 opacity-0"),children:(0,s.jsx)(l.default,{src:m,alt:"Herbal Logo",width:140,height:140,priority:!0,className:"mx-auto"})}),(0,s.jsx)("div",{className:"flex justify-center items-center space-x-6 mb-8",children:h.map((e,t)=>(0,s.jsxs)("div",{className:"transition-all duration-500 ".concat(t<=a?"opacity-100 scale-100":"opacity-30 scale-75"),children:[(0,s.jsx)("div",{className:"text-4xl mb-2",children:e.emoji}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.name})]},t))}),(0,s.jsx)("div",{className:"w-64 h-2 bg-green-100 rounded-full mx-auto overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-green-600 rounded-full transition-all duration-500 ease-out",style:{width:"".concat((a+1)/h.length*100,"%")}})}),(0,s.jsx)("div",{className:"text-gray-700 mt-4 text-base",children:a===h.length-1?"Welcome to Natural Wellness":"Preparing herbal goodness..."})]})}):(0,s.jsx)("div",{className:"fixed inset-0 bg-white opacity-0 transition-opacity duration-500 z-50"})};let o=["/banner1.webp","/banner1.webp","/banner1.webp"];var c=()=>{let[e,t]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e=setInterval(()=>{t(e=>(e+1)%o.length)},4e3);return()=>clearInterval(e)},[]),(0,s.jsxs)("div",{className:"relative w-full h-[300px] md:h-[420px] lg:h-[520px] overflow-hidden mb-8",children:[(0,s.jsx)("div",{className:"flex h-full transition-transform duration-700 ease-in-out",style:{transform:"translateX(-".concat(100*e,"%)")},children:o.map((e,t)=>(0,s.jsx)("img",{src:e,alt:"Banner ".concat(t+1),className:"w-full h-full object-cover flex-shrink-0"},t))}),(0,s.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:o.map((t,a)=>(0,s.jsx)("span",{className:"w-2 h-2 rounded-full transition-all ".concat(a===e?"bg-white":"bg-white/50")},a))})]})},d=a(836),u=a(9376);function m(e){let{category:t,categorySlug:a,products:r}=e,l=(0,u.useRouter)();return(0,s.jsxs)("section",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:t}),(0,s.jsx)("button",{onClick:()=>l.push("/products?category=".concat(a)),className:"text-sm text-[#8B1D3D] hover:underline",children:"View all"})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>(0,s.jsx)(d.Z,{product:e},e.id))})]})}let g=async()=>(await i.Z.get("/dashboard/pos/categories")).data.data,h=async()=>((await i.Z.get("/dashboard/product/products")).data.data||[]).map(e=>{var t,a,s,r;let l=Number(e.base_price||0),i=Number(e.discount||0),n=e.image_url||"/placeholder.webp";return{id:e.id,slug:e.slug,name:e.name,description:e.description,price:l-i,image:n,images:[n],categoryId:null===(t=e.category)||void 0===t?void 0:t.id,categorySlug:(null===(a=e.category)||void 0===a?void 0:a.slug)||(null===(s=e.category)||void 0===s?void 0:s.name),categoryName:null===(r=e.category)||void 0===r?void 0:r.name,variations:(e.variations||[]).map(e=>({id:e.id,name:e.name,price:e.price,stock:e.stock,images:(e.images||[]).map(e=>e.image_url)})),rating:4.3,reviews:120}});function x(){let[e,t]=(0,r.useState)(!0),[a,l]=(0,r.useState)([]),[i,o]=(0,r.useState)([]);return((0,u.useRouter)(),(0,r.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([g(),h()]);l(e),o(t)}catch(e){console.error("Home API error",e)}finally{t(!1)}})()},[]),e)?(0,s.jsx)(n,{onComplete:()=>{}}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("main",{className:"container mx-auto px-4 py-6",children:[(0,s.jsx)(c,{}),(0,s.jsx)("div",{className:"space-y-12",children:a.map(e=>{console.log("products",i);let t=i.filter(t=>t.categoryId==e.id);return 0===t.length?null:(0,s.jsx)(m,{category:e.name,categorySlug:e.slug,products:t},e.id)})})]})})}},836:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var s=a(7437),r=a(2660),l=a(8997),i=a(6275),n=a(9376),o=a(3405),c=a(8158),d=a(446);function u(e){let{product:t,showBack:a=!1}=e,u=(0,n.useRouter)(),{addToCart:m}=(0,o.j)(),{toggleWishlist:g,isInWishlist:h}=(0,c.E)(),{isAuthenticated:x,openLogin:p}=(0,d.a)(),f=h(t.id);return(0,s.jsxs)("div",{className:"relative bg-white rounded-xl border hover:shadow-lg transition overflow-hidden group",children:[a&&(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),u.back()},className:"absolute top-3 left-3 z-10 bg-white/90 p-2 rounded-full shadow hover:bg-gray-100",children:(0,s.jsx)(r.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:e=>{if(e.stopPropagation(),!x){p();return}g(t)},className:"absolute top-3 right-3 z-10 p-2 rounded-full shadow transition\n          ".concat(x?"bg-white/90 hover:bg-gray-100":"bg-gray-200 hover:bg-gray-300"),title:x?"":"Login to add wishlist",children:(0,s.jsx)(l.Z,{className:"w-4 h-4 transition ".concat(f?"fill-red-500 text-red-500":x?"text-gray-600":"text-gray-400")})}),(0,s.jsx)("div",{onClick:()=>{u.push("/product/details?slug=".concat(t.slug))},className:"h-52 overflow-hidden cursor-pointer",children:(0,s.jsx)("img",{src:t.image||"/placeholder.webp",alt:t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),(0,s.jsxs)("div",{className:"p-4 space-y-2",children:[(0,s.jsx)("h3",{className:"text-sm font-medium line-clamp-2 text-gray-800",children:t.name}),(0,s.jsxs)("p",{className:"text-green-700 font-bold text-lg",children:["From â‚¹",t.price]}),(0,s.jsxs)("button",{onClick:e=>{e.stopPropagation(),m({id:t.id,name:t.name,price:t.price,image:t.image})},className:"mt-3 w-full bg-red-900 text-white text-sm py-2 rounded-lg hover:bg-red-800 transition flex items-center justify-center gap-2",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4"}),"Add to Cart"]})]})]})}}},function(e){e.O(0,[464,911,180,971,117,744],function(){return e(e.s=4586)}),_N_E=e.O()}]);