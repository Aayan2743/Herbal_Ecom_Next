(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{1350:function(e,s,t){Promise.resolve().then(t.bind(t,3009))},3009:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return l}});var r=t(7437),n=t(446);function l(){var e,s;let{user:t}=(0,n.a)();if(!t)return null;let l=t.name?t.name.split(" ").map(e=>e[0]).join("").toUpperCase():"U";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"My Account"}),(0,r.jsx)("div",{className:"bg-white border rounded-2xl p-5 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-5",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-semibold text-xl",children:l}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-lg",children:t.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:t.email}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:t.phone||"—"})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"border rounded-xl p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Total Orders"}),(0,r.jsx)("p",{className:"text-2xl font-semibold mt-1",children:null!==(e=t.totalOrders)&&void 0!==e?e:0})]}),(0,r.jsxs)("div",{className:"border rounded-xl p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Wishlist Items"}),(0,r.jsx)("p",{className:"text-2xl font-semibold mt-1",children:null!==(s=t.wishlistCount)&&void 0!==s?s:0})]}),(0,r.jsxs)("div",{className:"border rounded-xl p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Member Since"}),(0,r.jsx)("p",{className:"text-2xl font-semibold mt-1",children:t.created_at?new Date(t.created_at).toLocaleDateString("en-IN",{month:"short",year:"numeric"}):"—"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"border rounded-xl p-5 hover:shadow-sm transition",children:[(0,r.jsx)("p",{className:"font-medium mb-2",children:"Manage Orders"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"View and track your orders"}),(0,r.jsx)("a",{href:"/account/orders",className:"text-indigo-600 text-sm hover:underline",children:"Go to Orders →"})]}),(0,r.jsxs)("div",{className:"border rounded-xl p-5 hover:shadow-sm transition",children:[(0,r.jsx)("p",{className:"font-medium mb-2",children:"Wishlist"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Products you saved for later"}),(0,r.jsx)("a",{href:"/account/wishlist",className:"text-indigo-600 text-sm hover:underline",children:"View Wishlist →"})]})]})]})}},446:function(e,s,t){"use strict";t.d(s,{AuthProvider:function(){return a},a:function(){return i}});var r=t(7437),n=t(2265);let l=(0,n.createContext)(void 0);function a(e){let{children:s}=e,[t,a]=(0,n.useState)(null),[i,o]=(0,n.useState)(null),[d,c]=(0,n.useState)(!0),[m,u]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=localStorage.getItem("jb-fashions-user"),s=localStorage.getItem("jb-fashions-token");e&&s&&(a(JSON.parse(e)),o(s)),c(!1)},[]),(0,n.useEffect)(()=>{t&&i?(localStorage.setItem("jb-fashions-user",JSON.stringify(t)),localStorage.setItem("jb-fashions-token",i)):(localStorage.removeItem("jb-fashions-user"),localStorage.removeItem("jb-fashions-token"))},[t,i]),(0,r.jsx)(l.Provider,{value:{user:t,token:i,isAuthenticated:!!i,loading:d,login:(e,s)=>{o(e),a(s),u(!1)},logout:()=>{a(null),o(null),localStorage.removeItem("cartSynced")},updateUser:e=>{a(s=>s?{...s,...e}:s)},loginOpen:m,openLogin:()=>u(!0),closeLogin:()=>u(!1)},children:!d&&s})}function i(){let e=(0,n.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1350)}),_N_E=e.O()}]);